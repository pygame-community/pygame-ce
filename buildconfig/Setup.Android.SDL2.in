# This works differently from the other templates

SDL = {sdl_includes} -D_REENTRANT -DSDL2 -lSDL2
FONT = {sdl_ttf_includes} -lSDL2_ttf
IMAGE = {sdl_image_includes} -lSDL2_image
MIXER = {sdl_mixer_includes} -lSDL2_mixer
SCRAP =
FREETYPE = {freetype_includes} -lfreetype -lharfbuzz

DEBUG =

#the following modules are optional. you will want to compile
#everything you can, but you can ignore ones you don't have
#dependencies for, just comment them out

imageext src/imageext.c $(SDL) $(IMAGE) $(DEBUG)
font src/font.c $(SDL) $(FONT) $(DEBUG)
mixer src/mixer.c $(SDL) $(MIXER) $(DEBUG)
mixer_music src/music.c $(SDL) $(MIXER) $(DEBUG)
scrap src/scrap.c $(SDL) $(SCRAP) $(DEBUG)
# pypm src/pypm.c $(SDL) $(PORTMIDI) $(PORTTIME) $(DEBUG)

_sdl2.sdl2 src/_sdl2/sdl2.c $(SDL) $(DEBUG) -Isrc
_sdl2.audio src/_sdl2/audio.c $(SDL) $(DEBUG) -Isrc
_sdl2.video src/_sdl2/video.c src/pgcompat.c $(SDL) $(DEBUG) -Isrc
_sdl2.mixer src/_sdl2/mixer.c $(SDL) $(MIXER) $(DEBUG) -Isrc
_sdl2.touch src/_sdl2/touch.c $(SDL) $(DEBUG) -Isrc
_sdl2.controller_old src/_sdl2/controller_old.c $(SDL) $(DEBUG) -Isrc

GFX = src/SDL_gfx/SDL_gfxPrimitives.c
#GFX = src/SDL_gfx/SDL_gfxBlitFunc.c src/SDL_gfx/SDL_gfxPrimitives.c
gfxdraw src/gfxdraw.c $(SDL) $(GFX) $(DEBUG)

#optional freetype module (do not break in multiple lines
#or the configuration script will choke!)
#_freetype src/freetype/ft_cache.c src/freetype/ft_wrap.c src/freetype/ft_render.c  src/freetype/ft_render_cb.c src/freetype/ft_layout.c src/freetype/ft_unicode.c src/_freetype.c $(SDL) $(FREETYPE) $(DEBUG)


#these modules are required for pygame to run. they only require
#SDL as a dependency. these should not be altered

base src/base.c $(SDL) $(DEBUG)
color src/color.c $(SDL) $(DEBUG)
constants src/constants.c $(SDL) $(DEBUG)
display src/display.c $(SDL) $(DEBUG)
event src/event.c $(SDL) $(DEBUG)
key src/key.c $(SDL) $(DEBUG)
mouse src/mouse.c $(SDL) $(DEBUG)
rect src/rect.c src/pgcompat_rect.c $(SDL) $(DEBUG)
rwobject src/rwobject.c $(SDL) $(DEBUG)
surface src/simd_blitters_sse2.c src/simd_blitters_avx2.c src/surface.c src/alphablit.c src/surface_fill.c src/simd_surface_fill_avx2.c src/simd_surface_fill_sse2.c $(SDL) $(DEBUG)
surflock src/surflock.c $(SDL) $(DEBUG)
time src/time.c $(SDL) $(DEBUG)
joystick src/joystick.c $(SDL) $(DEBUG)
draw src/draw/draw.c $(SDL) $(DEBUG)
image src/image.c $(SDL) $(DEBUG)
transform src/simd_transform_sse2.c src/simd_transform_avx2.c src/transform.c src/rotozoom.c src/scale2x.c src/scale_mmx.c $(SDL) $(DEBUG) -D_NO_MMX_FOR_X86_64
mask src/mask.c src/bitmask.c $(SDL) $(DEBUG)
bufferproxy src/bufferproxy.c $(SDL) $(DEBUG)
pixelarray src/pixelarray.c $(SDL) $(DEBUG)
math src/math.c $(SDL) $(DEBUG)
pixelcopy src/pixelcopy.c $(SDL) $(DEBUG)
newbuffer src/newbuffer.c $(SDL) $(DEBUG)
window src/window.c $(SDL) $(DEBUG)
_render src/render.c $(SDL) $(DEBUG)
geometry src/geometry.c $(SDL) $(DEBUG)
